---
title: Vue - 動態路由 -點按鈕換頁面
categories: Vue
tags: 
  - Vue
---
### params 設定動態路由
1. 在 router/index.js 檔案裏面.要設定動態路由的 path 路徑裡面加上 ```/:id```參數名稱。
```
const routes = [
  {
    path: 'product/:id',
    name: 'product',
    component: () => import('../components/product/product.vue')
  },
]
```
2. 那個頁面(後面先打其他的資料)
網址變成```http://localhost:8080/product/4```
接下來在瀏覽器 f12 中的 vue 可以看到
$route 下 params:{ id: "4"}

3. 設定預設的網址
設定 redirect 讓網頁沒有設定參數自己指引到這裡
```
{
  path: 'product',
  redirect: 'product/all', // 預設網址
},
{
  path: 'product/:id',
  name: 'product',
  component: () => import('../components/product/product.vue')
},
```

如果參數可有可無的.在參數後面加上?
```
{
  path: 'product/:id?',
  name: 'product',
  component: () => import('../components/product/product.vue')
},
```


4. 抓到動態路由
可以在生命週期 created 裡面打```this.$route.params.id```
注意$route要加"$"
```
created() {
  console.log(this.$route.params.id)
},
```

5. 點按鈕時.讓按鈕的值更換掉 $route.params.id 的部分
```
// 先設定點擊不同按鈕時 name 的值會換
const name = a123;
// 在輸入下面這個.網址的id就可以換
this.$router.push(`/product/${name}`);
```
接下來只要設定內容更換就可以了。






一般比較喜歡使用params來處理網頁參數比較整齊
query比較是分頁、臨時使用的id


https://ithelp.ithome.com.tw/articles/10197778

https://ithelp.ithome.com.tw/articles/10214449