<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>VueX - 3. Getter、Modules 簡化與模組化</title>
      <link href="/blogger/2020/08/07/vuex-3%E7%B0%A1%E5%8C%96%E6%A8%A1%E7%B5%84/"/>
      <url>/blogger/2020/08/07/vuex-3%E7%B0%A1%E5%8C%96%E6%A8%A1%E7%B5%84/</url>
      
        <content type="html"><![CDATA[<h3 id="Getter"><a href="#Getter" class="headerlink" title="Getter"></a>Getter</h3><p>目的: 資料呈現前調整(類似 computed )。<br>資料出現在網頁上之前做一些過濾、加減</p><a id="more"></a><p>相關行為從 store 讀出來<br>有 mapGetters、mapActions 這 2 個簡化程式<br>mapGetters 針對 computed 簡化<br>mapActions 針對 methods 簡化<br>方式差不多。</p><h4 id="mapGetters-針對-computed-簡化"><a href="#mapGetters-針對-computed-簡化" class="headerlink" title="mapGetters 針對 computed 簡化"></a>mapGetters 針對 computed 簡化</h4><p>把 computed 中使用到 vuex 的部分移動到 getter 中</p><ol><li><p>在 component 中引入 getter<br>加入<code>import { mapGetters } from &#39;vuex&#39;;</code><br>可以取出所有的 getter<br>注意 { mapGetters } 是物件形式.不要忘了加只寫名稱!</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapGetters &#125; from &#39;vuex&#39;; &#x2F;&#x2F; 加入這段</span><br><span class="line">export default &#123;...&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></li><li><p>原本 component 中的設定.改成在 vuex 中的 getter</p><p>A. 原本 component 中的程式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  isLoading()&#123;</span><br><span class="line">      return this.$store.state.isLoading;</span><br><span class="line">    &#125;,</span><br><span class="line">  cart()&#123;</span><br><span class="line">    return this.$store.state.cart;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>改成在 vuex 中 getter 樣子(也是要 return 回傳資料)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">getters:&#123;</span><br><span class="line">  isLoading(state)&#123;</span><br><span class="line">    return state.isLoading;</span><br><span class="line">  &#125;,</span><br><span class="line">  cart(state)&#123;</span><br><span class="line">    return state.cart;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>B. 原本 component 中的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 原本樣子</span><br><span class="line">computed: &#123;</span><br><span class="line">  isLoading()&#123;</span><br><span class="line">      return this.$store.state.isLoading;</span><br><span class="line">    &#125;,</span><br><span class="line">  cart()&#123;</span><br><span class="line">    return this.$store.state.cart;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 改成這樣</span><br><span class="line">computed: &#123;</span><br><span class="line">  ...mapGetters([&#39;isLoading&#39;, &#39;cart&#39;])</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ol><h4 id="mapActions-針對-methods-簡化"><a href="#mapActions-針對-methods-簡化" class="headerlink" title="mapActions 針對 methods 簡化"></a>mapActions 針對 methods 簡化</h4><ol><li><p>加入 mapActions</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapGetters, mapActions &#125; from &#39;vuex&#39;; &#x2F;&#x2F; 加入這段</span><br><span class="line">export default &#123;...&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></li><li><p>改變 component 中的設定<br>原本樣子</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">  &#x2F;&#x2F; 這可以簡化</span><br><span class="line">  addCartProductIn() &#123;</span><br><span class="line">    this.$store.dispatch(&#39;addCartProductIn&#39;);</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; 這無法簡化.因為有參數需要傳入</span><br><span class="line">  changeNum(num) &#123;</span><br><span class="line">    this.$store.dispatch(&#39;changeNum&#39;, num)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>修改後</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">  changeNum(num) &#123;</span><br><span class="line">    this.$store.dispatch(&#39;changeNum&#39;, num)</span><br><span class="line">  &#125;,</span><br><span class="line">  ...mapActions([&#39;addCartProductIn&#39;]), &#x2F;&#x2F; 改這邊</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ol><hr><h3 id="Modules"><a href="#Modules" class="headerlink" title="Modules"></a>Modules</h3><p>目的: VueX 檔案模組化<br>分成幾個檔案.引入加上來的地方。</p><ol><li><p>新增模板並把相關資料移動進去<br>index.js 這檔案是先建立一個 vuex<br>而新的檔案不需要.裡面先寫成下面這樣<br>也不需要 strict:true</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#39;axios&#39;; &#x2F;&#x2F; 如果需要axios在增加</span><br><span class="line">export default:&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在把 index.js 中 state、mutations、actions、getters 一起複製過去<br>增加刪減</p><p>這邊當時卡了一下.因為一開始複製整個 index.js 過去改<br>vuex重複2次創建.所以產生錯誤查到下面文章解決<br><a href="https://github.com/vuejs/vuex/issues/1748" target="_blank" rel="noopener">[vuex] getters should be function but</a></p></li><li><p>在 index.js 中引入<br>A. import 進來模板</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Vuex from &#39;vuex&#39;</span><br><span class="line">import axios from &#39;axios&#39;;</span><br><span class="line"></span><br><span class="line">import productsModules from &quot;.&#x2F;products&quot;; &#x2F;&#x2F; 加入這段引用進來</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)  &#x2F;&#x2F;這邊 vuex 啟用</span><br><span class="line">export default new Vuex.Store(&#123;.....&#125;)</span><br></pre></td></tr></table></figure><p>B. 增加 modules</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">  strict: true,</span><br><span class="line">  state: &#123;...&#125;,</span><br><span class="line">  mutations: &#123;...&#125;,</span><br><span class="line">  actions: &#123;...&#125;,</span><br><span class="line">  getters:&#123;...&#125;,</span><br><span class="line">  modules: &#123; &#x2F;&#x2F;其他模板引入</span><br><span class="line">    productsModules,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>改到這邊檔案是沒問題的</p><h4 id="注意幾個重點"><a href="#注意幾個重點" class="headerlink" title="注意幾個重點"></a>注意幾個重點</h4><h5 id="一般情況"><a href="#一般情況" class="headerlink" title="一般情況:"></a>一般情況:</h5><ul><li>state 模組區域變數</li><li>actions、mutations、getters 全域變數<br>(全域擔心的是跟其他檔案的名稱一樣造成衝突)</li></ul><h5 id="全都變成區域變數"><a href="#全都變成區域變數" class="headerlink" title="全都變成區域變數:"></a>全都變成區域變數:</h5><p>設定 <code>namespaced: true,</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">namespaced: true,</span><br><span class="line">state: &#123;..&#125;,</span><br></pre></td></tr></table></figure><br>A. 使用到 index.js 頁面的加入 ```{root: true}``` 回到根目錄下面程式會回到跟目錄找 LOADING<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">context.commit(&#39;LOADING&#39;, true, &#123;root: true&#125;);</span><br></pre></td></tr></table></figure><br><p>B. component 中 mapGetters、mapActions<br>使用到的地方.要加檔案名稱 <code>&#39;productModules&#39;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">...mapGetters(&#39;productModules&#39;,[&#39;dataProduct2&#39;, &#39;selectNum2&#39;]),</span><br></pre></td></tr></table></figure><br><p>C. component 中 methods 使用到的地方<br>路徑需要更改 (文件引入index.js的名稱/actions 下的方法)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.dispatch(&#39;productModules&#x2F;cartBtnApi&#39;);</span><br></pre></td></tr></table></figure><br>沒用會出現報錯 ```[vuex] unknown action type:```這邊卡了一下.雖然檔名是 product.js 但是引入 index.js 時是下面這樣import productModules from "./products";所以名稱是 productModules 不是 product</li></ol><h5 id="模組化後調用其他模組的方法"><a href="#模組化後調用其他模組的方法" class="headerlink" title="模組化後調用其他模組的方法"></a>模組化後調用其他模組的方法</h5><p><a href="https://www.jianshu.com/p/5c467a3e1ca9" target="_blank" rel="noopener">vuex 模块化之后如何调用其他模块的方法和属性</a><br><a href="https://ithelp.ithome.com.tw/articles/10209719" target="_blank" rel="noopener">modules 1 </a><br><a href="https://ithelp.ithome.com.tw/articles/10209848" target="_blank" rel="noopener">modules 2</a></p><!-- 如果要使用到其他模組的 mutation、action，需要在 dispatch、commit 的第三個參數帶入 ```{ root: true }```，表示這個 mutation、action 不是目前模組的。  A. commit 用於 mutation 來動態更新 state，當前模組和其他模組B. dispatch 用於 action，當前模組和其他模組自己模組的不用命名，其他模組需要在 action 路徑上命名<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;加上在 index.js 中引入的模組名稱 productModules</span><br><span class="line">this.$store.dispatch(&#39;productModules&#x2F;selectCategory&#39;, &#123;style,isPageClick&#125;);</span><br></pre></td></tr></table></figure><p>C. getters 獲取當前模組 getter；<br>D. state 獲取當前模組 state；<br>E. rootState 獲取其他模組 state；<br>F. rootGetters 獲取其他模組 getter –&gt;</p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> VueX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VueX - 2. State、Actions、Mutations 狀態</title>
      <link href="/blogger/2020/08/06/vuex-2%E5%B1%AC%E6%80%A7/"/>
      <url>/blogger/2020/08/06/vuex-2%E5%B1%AC%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<h3 id="State"><a href="#State" class="headerlink" title="State"></a>State</h3><p>目的: 管理資料狀態.資料儲存 (類似 data )。</p><p>原本的頁面用時.在 state 設定好後.回原本頁面把原本的變數換成 computed 用 VueX 的資料.統一控制。</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 資料夾 src&#x2F;store&#x2F;index.js 中</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    isLoading:false,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 原本頁面.(store前面記得加$)</span><br><span class="line">computed:&#123;</span><br><span class="line">  isLoading()&#123;</span><br><span class="line">    return this.$store.state.isLoading;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="Mutations"><a href="#Mutations" class="headerlink" title="Mutations"></a>Mutations</h3><p>目的: 處理資料 state 的狀態(改變資料內容)。</p><ul><li>改動 state，(這邊改 devtools 也會變)</li><li>執行同步行為</li><li>使用常數(全都大寫名稱來區分.也可以不這樣用)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mutations: &#123; </span><br><span class="line">  &#x2F;&#x2F; LOADING 跟 actions 的 updateLoading 提交的名稱有關</span><br><span class="line">  &#x2F;&#x2F; 第一個填 state，第二個要傳的資料 (payload)</span><br><span class="line">  LOADING(state, payload)&#123;</span><br><span class="line">    state.isLoading &#x3D; payload;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><hr><h3 id="Actions"><a href="#Actions" class="headerlink" title="Actions"></a>Actions</h3><p>目的: 操作一些動作(類似 methods )、取得遠端資料(不會改變資料狀態)。<br>處理 API (非同步、取得遠端資 ajax )、setTimeout (資料處理是在 mutations )。</p><p>改資料時.因為 actions 屬性像 methods 因此</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">actions: &#123; </span><br><span class="line">  &#x2F;&#x2F; LOADING 是 updateLoading 提交的「 Mutation 名稱」</span><br><span class="line">  updateLoading(context,changeStatus)&#123;</span><br><span class="line">    &#x2F;&#x2F; 改變資料這樣寫</span><br><span class="line">    context.commit(&#39;LOADING&#39;,changeStatus);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>提交 commit .需要傳一些參數的狀況下「名稱用字串，參數用物件」方式<br>(commit、dispatch 方式不同)</p><p>context 有下面這些屬性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  state,      &#x2F;&#x2F; 等同于 &#96;store.state&#96;，若在模块中则为局部状态</span><br><span class="line">  rootState,  &#x2F;&#x2F; 等同于 &#96;store.state&#96;，只存在于模块中</span><br><span class="line">  commit,     &#x2F;&#x2F; 等同于 &#96;store.commit&#96;</span><br><span class="line">  dispatch,   &#x2F;&#x2F; 等同于 &#96;store.dispatch&#96;</span><br><span class="line">  getters,    &#x2F;&#x2F; 等同于 &#96;store.getters&#96;</span><br><span class="line">  rootGetters &#x2F;&#x2F; 等同于 &#96;store.getters&#96;，只存在于模块中</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用 actions 是打 dispatch 呼叫要用的東西</p><ol><li><p>在 component 頁面使用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.dispatch(&#39;名稱&#39;,true)</span><br></pre></td></tr></table></figure></li><li><p>在其他 actions 使用( dispatch 前面用 context)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">context.dispatch(&#39;名稱&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;例子</span><br><span class="line">this.aaa();   &#x2F;&#x2F; 原本呼叫 aaa function 的方式</span><br><span class="line">context.dispatch(&#39;aaa&#39;);   &#x2F;&#x2F; 變成這樣呼叫</span><br></pre></td></tr></table></figure></li><li><p>很多參數需要傳的狀況下「全部用物件」方式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">this.selectCategory(categoryStyle, false); &#x2F;&#x2F; 原本</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 修改</span><br><span class="line">context.dispatch(&#123;</span><br><span class="line">  type: &#39;selectCategory&#39;,</span><br><span class="line">  style: categoryStyle,</span><br><span class="line">  isPageClick: false</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>另一段還是照舊</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selectCategory(context, &#123;style, isPageClick&#125;)&#123;...&#125;</span><br></pre></td></tr></table></figure></li></ol><p>然後在網頁開發者工具的 Vue 中.<br>只要觸發在 Filter mutations 搜尋的下面會看到觸發的時點和名稱<br>畫面右邊會顯示 state、mutations 的狀況<br>(state、mutations 的資料要同步才正常)</p><hr><h3 id="tip"><a href="#tip" class="headerlink" title="tip"></a>tip</h3><p>如果需要傳遞的參數太多.可以換成物件方式(解構)<br>因為是解構所以參數可以直接用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; component 頁面</span><br><span class="line">addtoCart(id, qty &#x3D; 1) &#123;   &#x2F;&#x2F; 「&#x3D; 1」預設值的意思</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 原本參數太多</span><br><span class="line">  &#x2F;&#x2F; this.$store.dispatch(&#39;addtoCart&#39;,id, qty);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 用物件包起來</span><br><span class="line">  this.$store.dispatch(&#39;addtoCart&#39;,&#123;id, qty&#125;);</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; vuex 裡面</span><br><span class="line">addtoCart(context, &#123;id, qty&#125;) &#123;  &#x2F;&#x2F;注意!不要寫上預設值。解構-&gt;直接用參數即可</span><br><span class="line">  const vm &#x3D; this;</span><br><span class="line">  const url &#x3D; &#96;$&#123;process.env.APIPATH&#125;&#x2F;api&#x2F;$&#123;process.env.CUSTOMPATH&#125;&#x2F;cart&#96;;</span><br><span class="line">  const item &#x3D; &#123;</span><br><span class="line">    product_id: id,</span><br><span class="line">    qty,</span><br><span class="line">  &#125;;</span><br><span class="line">  context.commit(&#39;LOADING&#39;,true)</span><br><span class="line">  axios.post(url, &#123; data: item &#125;).then((response) &#x3D;&gt; &#123;</span><br><span class="line">    context.commit(&#39;LOADING&#39;,false)</span><br><span class="line">    context.dispatch(&#39;getCart&#39;);</span><br><span class="line">    console.log(&#39;加入購物車:&#39;, response);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> VueX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VueX - 1. 前言</title>
      <link href="/blogger/2020/08/05/vuex-1%E5%89%8D%E8%A8%80/"/>
      <url>/blogger/2020/08/05/vuex-1%E5%89%8D%E8%A8%80/</url>
      
        <content type="html"><![CDATA[<h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><ul><li>針對大型專案使用</li><li>管理跨層(跨 component)的資料狀態<a id="more"></a>父子層可以用 emit、props 來傳遞資料。<br>同層級的用 $eventbus 來傳遞資料(適合簡單的情境.資料量大時容易亂掉)。<br>全域變數資料無法做雙向綁定。</li></ul><p>因此，大型專案很多層時不用上面這些換成 VueX 統一管理呼叫。</p><p><a href="https://vuex.vuejs.org/zh/guide/" target="_blank" rel="noopener">官方文件</a></p><h3 id="安裝-VueX"><a href="#安裝-VueX" class="headerlink" title="安裝 VueX"></a>安裝 VueX</h3><p><a href="https://vuex.vuejs.org/zh/installation.html" target="_blank" rel="noopener">官方安裝</a><br>自己是使用 vue gui 這畫面後點下載 VueX ，就安裝好了。</p><h3 id="狀態"><a href="#狀態" class="headerlink" title="狀態"></a>狀態</h3><p>單向資料流.注意順序不要逆向<br><img src="https://vuex.vuejs.org/vuex.png" alt="VueX"></p><h4 id="步驟"><a href="#步驟" class="headerlink" title="步驟"></a>步驟</h4><ol><li>state 設定參數。</li><li>原本頁面使用 computed 引用。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">  isLoading()&#123;</span><br><span class="line">    return this.$store.state.isLoading;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>Actions 操作類似 methods。</li><li>Mutations 改變 state 的狀態。</li><li>Getter 簡化寫法。</li><li>Modules 模組化。</li></ol><hr><h4 id="嚴謹模式-strict-true"><a href="#嚴謹模式-strict-true" class="headerlink" title="嚴謹模式  strict:true"></a>嚴謹模式  strict:true</h4><p>寫 VueX 語法不符合規範會跳錯<br>開發階段建議開著.產品階段建議關掉(因為耗資源)<br>可以在不同的模組裡面用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">  strict: true,</span><br><span class="line">  state: &#123;&#125;,</span><br><span class="line">  mutations: &#123;&#125;,</span><br><span class="line">  actions: &#123;&#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> VueX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript ES6 的解構賦值</title>
      <link href="/blogger/2020/08/04/js-%E8%A7%A3%E6%A7%8B%E8%B3%A6%E5%80%BC/"/>
      <url>/blogger/2020/08/04/js-%E8%A7%A3%E6%A7%8B%E8%B3%A6%E5%80%BC/</url>
      
        <content type="html"><![CDATA[<h4 id="右方資料給到左方"><a href="#右方資料給到左方" class="headerlink" title="右方資料給到左方"></a>右方資料給到左方</h4><p>陣列裡的數量不夠時剩下的就不會賦值，<br>中間有空就會跳開<code>let [grandpa, , dad, mom, me]</code></p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let family &#x3D; [&#39;阿公&#39;,&#39;阿嬤&#39;,&#39;爸&#39;,&#39;媽&#39;,&#39;我&#39;];</span><br><span class="line">let [grandpa, grandma, dad, mom, me] &#x3D; family;</span><br><span class="line">console.log(grandpa, grandma, dad, mom, me);</span><br></pre></td></tr></table></figure><ul><li><p>應用: 2個變數交換</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let aaa &#x3D; &#39;aaa&#39;;</span><br><span class="line">let bbb &#x3D; &#39;bbb&#39;;</span><br><span class="line">[aaa, bbb] &#x3D; [bbb, aaa];</span><br><span class="line">console.log(aaa,bbb)</span><br></pre></td></tr></table></figure></li><li><p>應用: 字串變陣列</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let str &#x3D; &#39;我在練習中&#39;;</span><br><span class="line">let [a, b, c, d, e] &#x3D; str;</span><br><span class="line">console.log(a, b, c, d, e)</span><br></pre></td></tr></table></figure></li></ul><h4 id="物件"><a href="#物件" class="headerlink" title="物件"></a>物件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">let family &#x3D; &#123;</span><br><span class="line">  dad: &#39;爸&#39;,</span><br><span class="line">  mom: &#39;媽&#39;,</span><br><span class="line">  me: &#39;我&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 取出一個值。(物件裡面放值，右邊是上面的物件)</span><br><span class="line">let &#123;dad&#125; &#x3D; family;</span><br><span class="line">console.log(dad); &#x2F;&#x2F; 顯示 &#39;爸&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 取出一個值後，讓它在新變數名稱上(dad是屬性，myFather新變數名稱)</span><br><span class="line">&#x2F;&#x2F; 右方 family 先取出 dad 的值，myFather 重新定這變數名稱。</span><br><span class="line">let &#123;dad:myFather&#125; &#x3D; family;</span><br><span class="line"></span><br><span class="line">console.log(dad, myFather);</span><br><span class="line">&#x2F;&#x2F; 顯示 dad-&gt;is not defined。 myFather-&gt;&#39;爸&#39;。</span><br></pre></td></tr></table></figure><p>複雜情況</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let &#123;dad:myFather, family: [,mom] &#125; &#x3D; &#123;dad: &#39;爸&#39;, family:[&#39;阿姨&#39;, &#39;媽&#39;, &#39;哥哥&#39;, &#39;弟弟&#39;]&#125;;</span><br><span class="line">console.log(myFather, mom) &#x2F;&#x2F; 顯示 &#39;爸&#39;,&#39;媽&#39;</span><br><span class="line">&#x2F;&#x2F; 雖然很複雜但先看右邊</span><br></pre></td></tr></table></figure><p>預設值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let [my &#x3D; &#39;我&#39;, dad &#x3D; &#39;爸&#39;] &#x3D; [&#39;我誰&#39;]</span><br><span class="line">console.log(my, dad)</span><br><span class="line">&#x2F;&#x2F; 顯示 &#39;我誰&#39;, &#39;爸&#39;</span><br><span class="line">&#x2F;&#x2F; 後面只有1個所以第一個不是用預設值</span><br><span class="line"></span><br><span class="line">let &#123;damily:my &#x3D; &#39;我&#39;&#125; &#x3D; &#123;&#125;</span><br><span class="line">&#x2F;&#x2F;右邊沒傳值，物件會變成&#123;my: &#39;我&#39;&#125;</span><br></pre></td></tr></table></figure><p>也可以這樣用<br>有時候一個位置要放2個參數.就用物件的方式傳入<br>裡面的參數可以直接使用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">abc(context, &#123;id, item&#125;)&#123;</span><br><span class="line">  console.log(context, id, item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javascript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Select 改樣式 - 用 ul、li 改寫</title>
      <link href="/blogger/2020/08/03/select/"/>
      <url>/blogger/2020/08/03/select/</url>
      
        <content type="html"><![CDATA[<p>有時候想改更多 select 的樣式<br>但原本 select、option 標籤能改的有限.因此換成使用 ul、li 重新構成選單。</p><div class="select">  <div onclick="toggleFun()">    <span id="selectName">請選擇地區</span>    <i class="fas fa-caret-down"></i>  </div>  <ul id="list" class="d-none" onmouseleave="listMouseLeave()">  </ul></div><script>const liAry = ['北部','中部','南部','東部','離島'];const selectUl = document.querySelector('#list');const selectLi = document.querySelector('#list li');const selectName = document.querySelector('#selectName');//listlet html_list = "";liAry.forEach(el => {  html_list+= `<li>${el}</li>`;})selectUl.innerHTML = html_list;//click togglefunction toggleFun(){  if(selectUl.className === ''){    selectUl.classList.add('d-none');  }else{    selectUl.classList.remove('d-none');  }}function listMouseLeave(){  selectUl.classList.add('d-none');}// click liselectUl.addEventListener('click',function(e){  selectName.innerHTML = e.target.innerText;  selectUl.classList.add('d-none');})</script><style>  .d-none{    display:none;  }  .select{    margin-top: 1rem;    margin-bottom: 30px;    position: relative;  }  .select div{    cursor: pointer;    display: flex;    justify-content: space-between;    align-items: center;    padding: 7px 15px;    border-width: 2px;    border-style: solid;    border-color: #569784 #569784 #a2cabf #a2cabf;  }  .select ul{    cursor: pointer;    border-width: 2px;    border-style: solid;    border-color: #569784 #569784 #a2cabf #a2cabf;    position: absolute;    top: 35px;    left: 0;    background-color: #fff;    width: 100%;    z-index: 30;    padding-left: 0;    list-style: none;    box-sizing: border-box;    /* height: 230px;    overflow-y: scroll; */  }  .select li{    cursor: pointer;    padding: 4px 15px;  }  .select li:hover{      background-color:  #a2cabf;    }</style><a id="more"></a><h3 id="使用-Vue-js-的方式"><a href="#使用-Vue-js-的方式" class="headerlink" title="使用 Vue.js 的方式"></a>使用 Vue.js 的方式</h3><h4 id="html架構"><a href="#html架構" class="headerlink" title="html架構"></a>html架構</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;select&quot;&gt;</span><br><span class="line">  &#x2F;&#x2F; 顯示的地方</span><br><span class="line">  &lt;div @click&#x3D;&quot;selectToggle &#x3D; !selectToggle&quot;&gt;</span><br><span class="line">    &#123;&#123;selectArea&#125;&#125;</span><br><span class="line">    &lt;i class&#x3D;&quot;fas fa-caret-down&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 下拉區域</span><br><span class="line">  &#x2F;&#x2F; mouseleave &#x3D;&gt; 滑鼠移開下拉要關起來 </span><br><span class="line">  &lt;ul v-show&#x3D;&quot;selectToggle&quot; @mouseleave&#x3D;&quot;selectToggle &#x3D; false&quot;&gt;</span><br><span class="line">    &lt;li v-for&#x3D;&quot;(item,index) in counties&quot; :key&#x3D;&quot;item.SiteId&quot;</span><br><span class="line">        @click&#x3D;&quot;selectFunction(item)&quot;&gt;</span><br><span class="line">      &#123;&#123;item&#125;&#125;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><h4 id="scss-樣式"><a href="#scss-樣式" class="headerlink" title="scss 樣式"></a>scss 樣式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">$primary-green: #569784;</span><br><span class="line">.select&#123;</span><br><span class="line">  margin-top: 1rem;</span><br><span class="line">  margin-bottom: 30px;</span><br><span class="line">  position: relative;</span><br><span class="line">  div&#123;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    width: 100%;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    align-items: center;</span><br><span class="line">    padding: 7px 15px;</span><br><span class="line">    border-width: 2px;</span><br><span class="line">    border-style: solid;</span><br><span class="line">    border-color: $primary-green $primary-green lighten($primary-green,25%) lighten($primary-green,25%);</span><br><span class="line">  &#125;</span><br><span class="line">  ul&#123;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    border-width: 2px;</span><br><span class="line">    border-style: solid;</span><br><span class="line">    border-color: $primary-green $primary-green lighten($primary-green,25%) lighten($primary-green,25%);</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 40px;</span><br><span class="line">    left: 0;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    width: 100%;</span><br><span class="line">    z-index: 30;</span><br><span class="line">  &#125;</span><br><span class="line">  li&#123;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    padding: 4px 15px;</span><br><span class="line">    &amp;:hover&#123;</span><br><span class="line">      background-color: lighten($primary-green,40%);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="vue-的程式部分"><a href="#vue-的程式部分" class="headerlink" title="vue 的程式部分"></a>vue 的程式部分</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  allData:[], &#x2F;&#x2F; 預先的所有資料</span><br><span class="line">  nowData:[], &#x2F;&#x2F; 現在塞選過使用的資料</span><br><span class="line">  selectToggle:false, &#x2F;&#x2F; 下拉選單的切換</span><br><span class="line">  selectArea:&#39;請選擇地區&#39;, &#x2F;&#x2F; 選擇後的文字顯示 </span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  selectFunction(item)&#123;</span><br><span class="line">    &#x2F;&#x2F; 點擊下拉選單後塞選資料</span><br><span class="line">    const nowSelectArea &#x3D; [];</span><br><span class="line">    this.allData.forEach(el &#x3D;&gt; &#123;</span><br><span class="line">      if(el.County &#x3D;&#x3D;&#x3D; item)&#123;</span><br><span class="line">        nowSelectArea.push(el)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    this.nowData &#x3D; nowSelectArea; &#x2F;&#x2F; 現在塞選過的資料</span><br><span class="line">    this.selectArea &#x3D; item; &#x2F;&#x2F; select 顯示的文字</span><br><span class="line">    this.selectToggle &#x3D; false; &#x2F;&#x2F; 點選下拉選單後.讓選單關閉</span><br><span class="line">    this.sortPage(this.nowData); &#x2F;&#x2F;重新整理頁面.顯示新的資料</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="使用-Javascript-的方式"><a href="#使用-Javascript-的方式" class="headerlink" title="使用 Javascript 的方式"></a>使用 Javascript 的方式</h3><h4 id="html架構-1"><a href="#html架構-1" class="headerlink" title="html架構"></a>html架構</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;select&quot;&gt;</span><br><span class="line">  &lt;div onclick&#x3D;&quot;toggleFun()&quot;&gt;</span><br><span class="line">    &lt;span id&#x3D;&quot;selectName&quot;&gt;請選擇地區&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;i class&#x3D;&quot;fas fa-caret-down&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;ul id&#x3D;&quot;list&quot; class&#x3D;&quot;d-none&quot; onmouseleave&#x3D;&quot;listMouseLeave()&quot;&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><h4 id="css-樣式"><a href="#css-樣式" class="headerlink" title="css 樣式"></a>css 樣式</h4><p>把上面 scss 的巢狀拆開，並加入下面這個 class</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.d-none&#123;</span><br><span class="line">    display:none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="javascript-程式的部分"><a href="#javascript-程式的部分" class="headerlink" title="javascript 程式的部分"></a>javascript 程式的部分</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">const liAry &#x3D; [&#39;北部&#39;,&#39;中部&#39;,&#39;南部&#39;,&#39;東部&#39;,&#39;離島&#39;];</span><br><span class="line">const selectUl &#x3D; document.querySelector(&#39;#list&#39;);</span><br><span class="line">const selectLi &#x3D; document.querySelector(&#39;#list li&#39;);</span><br><span class="line">const selectName &#x3D; document.querySelector(&#39;#selectName&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;list</span><br><span class="line">let html_list &#x3D; &quot;&quot;;</span><br><span class="line">liAry.forEach(el &#x3D;&gt; &#123;</span><br><span class="line">  html_list+&#x3D; &#96;&lt;li&gt;$&#123;el&#125;&lt;&#x2F;li&gt;&#96;;</span><br><span class="line">&#125;)</span><br><span class="line">selectUl.innerHTML &#x3D; html_list;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;click toggle</span><br><span class="line">function toggleFun()&#123;</span><br><span class="line">  if(selectUl.className &#x3D;&#x3D;&#x3D; &#39;&#39;)&#123;</span><br><span class="line">    selectUl.classList.add(&#39;d-none&#39;);</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    selectUl.classList.remove(&#39;d-none&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function listMouseLeave()&#123;</span><br><span class="line">  selectUl.classList.add(&#39;d-none&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; click li</span><br><span class="line">selectUl.addEventListener(&#39;click&#39;,function(e)&#123;</span><br><span class="line">  selectName.innerHTML &#x3D; e.target.innerText;</span><br><span class="line">  selectUl.classList.add(&#39;d-none&#39;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>網頁動畫、特效(2)- Gsap3 + Vue.js</title>
      <link href="/blogger/2020/07/17/animate-gasp/"/>
      <url>/blogger/2020/07/17/animate-gasp/</url>
      
        <content type="html"><![CDATA[<h3 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h3><p><a href="https://hackmd.io/@chupai/SJStDfFV8#GSAP3" target="_blank" rel="noopener">GSAP3：專門處理動畫與特效的 JS 套件</a></p><h3 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h3><p><a href="https://greensock.com/docs/v3/Installation?checked=core" target="_blank" rel="noopener">官方各種安裝方式</a></p><a id="more"></a><ol><li><p>npm 安裝</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gsap</span><br></pre></td></tr></table></figure></li><li><p>引入專案中<br>上面官方網站 npm 安裝的部分<br>有些插件可以挑選.這次需要 ScrollTrigger (頁面滑到才動)<br>另外目前設定只有專案的首頁需要用到.所以在那 component 頁面打下面的指令引入 3行。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; gsap &#125; from &quot;gsap&quot;;</span><br><span class="line">import &#123; ScrollTrigger &#125; from &quot;gsap&#x2F;ScrollTrigger&quot;;</span><br><span class="line">gsap.registerPlugin(ScrollTrigger);</span><br><span class="line"></span><br><span class="line">export default &#123;...&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h3><p>gsap 是使用 id 或 class 操作動畫。</p><h4 id="公式"><a href="#公式" class="headerlink" title="公式"></a>公式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">gsap.method(&#39;selector&#39;, &#123;&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 使用例子 1</span><br><span class="line">gsap.to(&quot;.a&quot;, &#123;color: &#39;#ccc&#39;, duration: 2&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 使用例子 2</span><br><span class="line">gasp.from (&quot;.a&quot;, &#123;</span><br><span class="line">  duration:3, x:&quot;-50vw&quot;, rotation:-300, ease:&quot;linear&quot;,</span><br><span class="line">  scrollTrigger:&#123;</span><br><span class="line">    trigger:&quot;.a&quot;,</span><br><span class="line">    markers:true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="測試專案-gsap-是否安裝成功"><a href="#測試專案-gsap-是否安裝成功" class="headerlink" title="測試專案 gsap 是否安裝成功"></a>測試專案 gsap 是否安裝成功</h4><p>(成功的話 #h1 出現在畫面中會右移)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1 id&#x3D;&quot;h1&quot;&gt;我是標題&lt;&#x2F;h1&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; gsap &#125; from &quot;gsap&quot;;</span><br><span class="line">import &#123; ScrollTrigger &#125; from &quot;gsap&#x2F;ScrollTrigger&quot;;</span><br><span class="line">gsap.registerPlugin(ScrollTrigger);</span><br><span class="line">export default &#123;</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    gsap.to(&quot;#h1&quot;, &#123;x: 100, duration: 1&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h3 id="ScrollTrigger-滾動觸發"><a href="#ScrollTrigger-滾動觸發" class="headerlink" title="ScrollTrigger 滾動觸發"></a>ScrollTrigger 滾動觸發</h3><p><a href="https://www.youtube.com/watch?v=X7IBa7vZjmo" target="_blank" rel="noopener">Introducing ScrollTrigger for GSAP</a></p><p>注意: scrollTrigger (要小寫s開頭).不然會顯示找不到這插件 !</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">gsap.to(&quot;#h1&quot;, &#123; &#x2F;&#x2F;要觸發的元素</span><br><span class="line">  scrollTrigger:&#123; &#x2F;&#x2F;頁面滑動觸發設定</span><br><span class="line">    trigger: &quot;#product1&quot;,  &#x2F;&#x2F;要觸發的元素</span><br><span class="line">    start: &quot;top center&quot;, &#x2F;&#x2F;第一個值:元素的開始位置，第二個值:畫面的位置</span><br><span class="line">    end: &quot;bottom 100px&quot; &#x2F;&#x2F; 同 start 用法</span><br><span class="line">    marker: true, &#x2F;&#x2F;顯示提示字.會顯示設定、物件的開始結束</span><br><span class="line">    toggleActions: &quot;restart none none none&quot;  &#x2F;&#x2F;切換動作</span><br><span class="line">  &#125;,</span><br><span class="line">  x: 400, &#x2F;&#x2F;外部這是要改變的效果</span><br><span class="line">  duration:2</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="start-可放的值"><a href="#start-可放的值" class="headerlink" title="start 可放的值"></a>start 可放的值</h4><p>top、center、bottom、pixels、percentages(relative to top)</p><h4 id="toggleActions-可以放4個值-依序跑"><a href="#toggleActions-可以放4個值-依序跑" class="headerlink" title="toggleActions 可以放4個值.依序跑"></a>toggleActions 可以放4個值.依序跑</h4><table><thead><tr><th>值</th><th>說明</th></tr></thead><tbody><tr><td>play</td><td>只跑一次</td></tr><tr><td>pause</td><td>暫停</td></tr><tr><td>resume</td><td>繼續</td></tr><tr><td>reverse</td><td>逆轉</td></tr><tr><td>restart</td><td>重複跑</td></tr><tr><td>reset</td><td>重置</td></tr><tr><td>complete</td><td>完成</td></tr><tr><td>none</td><td>無</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Gsap </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 網頁特效 </tag>
            
            <tag> Vue </tag>
            
            <tag> Gsap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>網頁動畫、特效(1)- Animation、Transition</title>
      <link href="/blogger/2020/07/15/animate-animation-transition/"/>
      <url>/blogger/2020/07/15/animate-animation-transition/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>製作網頁的動畫、特效以前是用 JavaScript、Flash，後來 css3 增加了一些屬性，變成開發時間可以縮短，透過 css 交給瀏覽器處理也比較不吃資源。</p><a id="more"></a><p>要把效果做好有幾個關鍵字可以研究：</p><ul><li>動畫：css Animation</li><li>過度、轉場：css Transition</li><li>變形：transform 2D、transform 3D<br>基本的有概念後就可以開始找範例解析試模仿寫看看。</li></ul><p>這次紀錄研究 Animation、Transition 後，搭配 scrollmagic、gsap，<br>讓網頁使用起來多點效果不那麼死硬的過程，<br>transform 這次比較用不到所以先跳過。</p><hr><h3 id="CSS3-Animation"><a href="#CSS3-Animation" class="headerlink" title="CSS3 Animation"></a>CSS3 Animation</h3><p>動畫也稱為影格動畫，可以設定比較細緻的效果。<br>動畫是直接執行的。</p><h4 id="語法簡寫順序"><a href="#語法簡寫順序" class="headerlink" title="語法簡寫順序"></a>語法簡寫順序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">animation: [name 名稱] [duration 時間] | [timing-function 執行效果] | [delay 延遲] | [iteration-count 重複次數] | [direction 方向] | [fill-mode 播放前後模式] | [play-state 播放狀態];</span><br></pre></td></tr></table></figure><p>要搭配關鍵影格 @keyframes 才可以用，畢竟沒有時間設定開始結束做什麼無法跑呀。</p><table><thead><tr><th>屬性</th><th>說明</th><th>補充</th></tr></thead><tbody><tr><td>animation-name</td><td>名稱。@keyframes 後面的名稱</td><td>@keyframes 搭配 from、to。</td></tr><tr><td>animation-duration</td><td>執行時間(s 秒或 ms 毫秒)，預設0</td><td></td></tr><tr><td>animation-timing-function</td><td>執行效果(速度曲線)</td><td><a href="https://www.w3schools.com/cssref/css3_pr_animation-timing-function.asp" target="_blank" rel="noopener">w3schools</a></td></tr><tr><td>animation-delay</td><td>延遲(間隔多久後開始)，預設0</td><td></td></tr><tr><td>animation-iteration-count</td><td>重覆執行次數，預設 1</td><td>infinite 無限次</td></tr><tr><td>animation-direction</td><td>執行方向。預設 normal</td><td>reverse 反向、alternate 先正後反、alternate-reverse先反後正</td></tr><tr><td>animation-fill-mode</td><td>播放前後模式，預設 none</td><td>forwards、backwards、both</td></tr><tr><td>animation-play-state</td><td>播放或暫停狀態，預設 running</td><td>paused 暫停</td></tr></tbody></table><h4 id="keyframes-關鍵影格設定方式"><a href="#keyframes-關鍵影格設定方式" class="headerlink" title="@keyframes 關鍵影格設定方式"></a>@keyframes 關鍵影格設定方式</h4><ul><li><p>公式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@keyframes 動畫名稱 &#123;</span><br><span class="line">  時間1 &#123;css 樣式&#125;</span><br><span class="line">  時間2 &#123;css 樣式&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>注意動畫名稱大小寫，不同大小寫是不同字。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 下面2個是不同的動畫</span><br><span class="line">@keyframes Abc&#123;&#125;</span><br><span class="line">@keyframes ABC&#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>設定時間有2種方式:</p><ol><li>from、to : 一開始和最後的效果(0%、100%)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@keyframes animate1 &#123;</span><br><span class="line">  from &#123;background-color:red; margin-left:0;&#125;</span><br><span class="line">  to &#123;background-color:black; margin-left:50px;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>0-100% : 幾 % 時做什麼事<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@keyframes animate2 &#123;</span><br><span class="line">  0% &#123;background-color:red; margin-left:0;&#125;</span><br><span class="line">  50% &#123;background-color:blue; margin-left:100px;&#125;</span><br><span class="line">  100% &#123;background-color:black; margin-left:50px;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ul><h4 id="套用效果"><a href="#套用效果" class="headerlink" title="套用效果"></a>套用效果</h4><style>  .animate123{    width:50px;    height:50px;    animation: animate2 3s ease 1s infinite alternate;    background-color:red;    margin-bottom:10px;  }  @keyframes animate2 {    0% {background-color:red; margin-left:0;}    50% {background-color:blue; margin-left:100px;}    100% {background-color:black; margin-left:50px;}  }</style><div class="animate123"></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">  width:50px;</span><br><span class="line">  height:50px;</span><br><span class="line">  animation: animate2 3s ease 1s infinite alternate;</span><br><span class="line">  background-color:red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes animate2 &#123;</span><br><span class="line">  0% &#123;background-color:red; margin-left:0;&#125;</span><br><span class="line">  50% &#123;background-color:blue; margin-left:100px;&#125;</span><br><span class="line">  100% &#123;background-color:black; margin-left:50px;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.oxxostudio.tw/articles/201803/css-animation.html" target="_blank" rel="noopener">完整解析 CSS 動畫</a></p><h4 id="Animate-css"><a href="#Animate-css" class="headerlink" title="Animate.css"></a>Animate.css</h4><p>CSS3 Animate 有太多要設定，有人整理成一個css檔方便使用，只要會引用、使用就可以操作。<br><a href="https://animate.style/" target="_blank" rel="noopener">Animate.css</a></p><p>Vue.js中使用方式<br><a href="https://blog.csdn.net/qq_39009348/article/details/81144296" target="_blank" rel="noopener">animate.css在vue项目中的使用</a></p><p>操作流程:</p><ol><li><p>下載安裝</p></li><li><p>在想要動畫的地方放 css，每個想要的特效前面都要加<code>animate__animated</code>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 class&#x3D;&quot;title animate__animated animate__bounce&quot;&gt;title&lt;&#x2F;h1&gt;</span><br></pre></td></tr></table></figure></li><li><p>如果希望可以調整的更多.有2種方式:<br>a. 在設定的 css 上面寫 animation 就可以控制</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .title&#123;</span><br><span class="line">    animation-duration: 2s;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><p>b. 也可以在原本的地方增加其他 css 屬性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 class&#x3D;&quot;title animate__animated animate__bounce animate__faster&quot;&gt;title&lt;&#x2F;h1&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>效果</th><th>屬性名稱</th><th>成效</th></tr></thead><tbody><tr><td>延遲</td><td>animate__delay-2s<br>animate__delay-3s<br>animate__delay-4s<br>animate__delay-5s</td><td>2s<br>3s<br>4s<br>5s</td></tr><tr><td>速度</td><td>animate__slow<br>animate__slower<br>animate__fast<br>animate__faster</td><td>2s<br>3s<br>800ms<br>500ms</td></tr><tr><td>重複</td><td>animate__repeat-1<br>animate__repeat-2<br>animate__repeat-3<br>animate__infinite</td><td>1<br>2<br>3<br>infinite(無限重複)</td></tr></tbody></table></li></ol><hr><h3 id="CSS3-Transition-語法"><a href="#CSS3-Transition-語法" class="headerlink" title="CSS3 Transition 語法"></a>CSS3 Transition 語法</h3><p>動畫效果需要觸發、只能跑一次，適合用在頁面轉場。</p><h4 id="語法簡寫順序-1"><a href="#語法簡寫順序-1" class="headerlink" title="語法簡寫順序"></a>語法簡寫順序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transition: [property 名稱] [duration 時間] [timing-function 特效] [delay 延遲] ;</span><br></pre></td></tr></table></figure><table><thead><tr><th>屬性</th><th>說明</th></tr></thead><tbody><tr><td>transition-property</td><td>名稱 (放要變的class名稱)</td></tr><tr><td>transition-duration</td><td>執行時間</td></tr><tr><td>transition-timing-function</td><td>執行的速度曲線</td></tr><tr><td>transition-delay</td><td>延遲，多久後執行 transition</td></tr></tbody></table><h4 id="transition-timing-function-漸變函式"><a href="#transition-timing-function-漸變函式" class="headerlink" title="transition-timing-function 漸變函式"></a>transition-timing-function 漸變函式</h4><p>動畫變換的速度</p><table><thead><tr><th>漸變函式</th><th>貝茲曲線</th><th>效果</th></tr></thead><tbody><tr><td>ease</td><td>cubic-bezier (0.25, 0.1, 0.25, 1.0)</td><td>慢(剛起跑緩衝) &gt; 快 &gt; 慢(剎車感)</td></tr><tr><td>linear</td><td>cubic-bezier (0.0, 0.0, 1.0, 1.0)</td><td>速度不變.平平的</td></tr><tr><td>ease-in</td><td>cubic-bezier (0.42, 0, 1.0, 1.0)</td><td>慢(吃力的起床) &gt; 快(快遲到了)</td></tr><tr><td>ease-out</td><td>cubic-bezier (0, 0, 0.58, 1.0)</td><td>快 &gt; 慢(剎車感)</td></tr><tr><td>ease-in-out</td><td>cubic-bezier (0.42, 0, 0.58, 1.0)</td><td>慢(吃力的起床) &gt; 快 &gt; 慢(剎車感)</td></tr></tbody></table><p>想要其他的線性可以使用下面的網站自己調看看<br>4個數字組成，0~1之間<br><a href="https://cubic-bezier.com/" target="_blank" rel="noopener">貝茲曲線</a></p><h4 id="套用效果-1"><a href="#套用效果-1" class="headerlink" title="套用效果"></a>套用效果</h4><style>  .transition123{    width:50px;    height:50px;    background-color:red;    margin-bottom:10px;  }  .transition123:hover{    background-color:blue;    margin-left:30px;    transition: background-color 3s;    transition: margin-left 3s;  }</style><p>(滑鼠請移到方塊上)</p><div class="transition123"></div><pre><code>div{  width:50px;  height:50px;  background-color:red;  margin-bottom:10px;}div:hover{  background-color:blue;  margin-left:30px;  transition: background-color 3s;  transition: margin-left 3s;}//寫很多屬性時可以下面這樣div:hover{  background-color:blue;  margin-left:30px;  transition-property: background-color, margin-left;  transition-duration: 3s, 1s;}</code></pre><p><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions" target="_blank" rel="noopener">更多 Transition 的搭配使用</a></p><hr><h3 id="比較-Animation、Transition-差異"><a href="#比較-Animation、Transition-差異" class="headerlink" title="比較 Animation、Transition 差異"></a>比較 Animation、Transition 差異</h3><table><thead><tr><th>屬性</th><th>特色差異</th></tr></thead><tbody><tr><td>Animation</td><td>1. 網頁載入直接執行特效。<br>2. 可設定較細的動畫效果(關鍵影格.設定很多時間點)</td></tr><tr><td>Transition</td><td>1. 需要事件觸發才能執行特效。(滑鼠、鍵盤事件) <br>2. 只能設定一開始跟結束的效果中間無法。<br>3. 一次性無法重複 (除非一直觸發才能重複)</td></tr></tbody></table><p>他們簡寫的前4個順序一樣，但只要寫前面2個就可以跑了。</p><ul><li><p>animation:<br>name duration timing-function delay<br>iteration-count direction fill-mode play-state;</p></li><li><p>transition:<br>property duration timing-function delay;</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 網頁特效 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Source maps 筆記</title>
      <link href="/blogger/2020/07/02/source-maps/"/>
      <url>/blogger/2020/07/02/source-maps/</url>
      
        <content type="html"><![CDATA[<p>直播的筆記與其他的整理<br><a href="https://www.facebook.com/will.fans/videos/1834092806619855" target="_blank" rel="noopener">前端工程師不可不知的 Source Maps 應用技巧</a></p><h3 id="什麼是-Source-maps"><a href="#什麼是-Source-maps" class="headerlink" title="什麼是 Source maps"></a>什麼是 Source maps</h3><p>(原始碼地圖、來源對應)<br>產生 *.map 的檔案<a id="more"></a><br>會紀錄原始碼關鍵字和座標(第幾行的位置)。<br>css、js都支援 Source maps<br>主要給瀏覽器用 </p><p>(用途)<br>網站上使用的 min 壓縮檔<br>透過 map 找到原始檔案的位置來修改維護。</p><h3 id="瀏覽器對壓縮最佳化的-js-解壓縮"><a href="#瀏覽器對壓縮最佳化的-js-解壓縮" class="headerlink" title="瀏覽器對壓縮最佳化的 js 解壓縮"></a>瀏覽器對壓縮最佳化的 js 解壓縮</h3><ol><li><p>自動格式化原始碼(google 擴充套建 PrettyPrint)<br>網頁左上角應用程式-&gt;現在應用程式商片-&gt;進去搜尋</p><img src="https://lh3.googleusercontent.com/xGYFnx7QNmqWf63dEKrBHPTdhKK49dLYKmo376aiN4-fM0lR_0lxiXtJrFZOVjFzhuWN8HuasA=w440-h280-e365" width="200px"></li><li><p>f12 的 Sources 點要使用的 min.js<br>再點『{}』就可以解析 (在程式碼那塊的左下角)</p></li></ol><p>如果壓縮檔的名稱有壓過會變成很簡易的代號.不容易看懂.這時就需要使用 Source maps 來產生 *.map 檔跟原始檔連結</p><h3 id="Source-maps-方式-偵錯時使用"><a href="#Source-maps-方式-偵錯時使用" class="headerlink" title="Source maps 方式 (偵錯時使用)"></a>Source maps 方式 (偵錯時使用)</h3><p>先下載要使用的工具(直播中使用 uglify-js)<br>再用下面的方式<br>成功在網頁上.會先讀入壓縮檔自動轉換成原始檔顯示</p><h4 id="方法一-壓縮檔與-map-連結"><a href="#方法一-壓縮檔與-map-連結" class="headerlink" title="(方法一) 壓縮檔與 map 連結"></a>(方法一) 壓縮檔與 map 連結</h4><p>在壓縮檔 *.min.js 的最後一行打<br>(同樣位置)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;# sourceMappingURL&#x3D;*.min.js.map</span><br></pre></td></tr></table></figure><p>(不同位置)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;# sourceMappingURL&#x3D;&#x2F;path&#x2F;to&#x2F;*.min.js.map</span><br></pre></td></tr></table></figure><p>缺點是要手動在 min.js 最後加入這個</p><h4 id="方法二-在-http-header-加入程式碼"><a href="#方法二-在-http-header-加入程式碼" class="headerlink" title="(方法二) 在 http header 加入程式碼"></a>(方法二) 在 http header 加入程式碼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-SourceMap: &#x2F;path&#x2F;to&#x2F;*.js.map</span><br></pre></td></tr></table></figure><h3 id="更改完原始的-js-後"><a href="#更改完原始的-js-後" class="headerlink" title="更改完原始的 js 後"></a>更改完原始的 js 後</h3><p>要再重新產生新的壓縮 js 和 Source maps 才會生效</p><h3 id="檔案壓縮是為了網頁的效能"><a href="#檔案壓縮是為了網頁的效能" class="headerlink" title="檔案壓縮是為了網頁的效能"></a>檔案壓縮是為了網頁的效能</h3><p>JS 最佳化:</p><ol><li>合併<ul><li>多個js檔合併一個(越多js檔網頁跑越慢)</li><li>減少 HTTP 要求次數來提升瀏覽效率</li></ul></li><li>壓縮<ul><li>js中多餘的空白字刪除</li><li>過長的區域變數變短<br>(改掉原本的名稱.所以需要用Source maps.只用PrettyPrint 可能還會看不懂。ex: event變n)</li><li>縮小檔案加快檔案的下載速度</li></ul></li><li>常用工具: uglify-js、webpack module bundler、TypeScript、Babel<br>cli裡面也有</li></ol><p>目標:</p><ul><li>縮小檔案大小，降低網路流量</li><li>讓變數及函式名稱變成無意義文字，讓別人不容易反推程式邏輯<br>(js是送到用戶端，網站上線時需要加工處理。)</li></ul><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p><code>debugger</code> js會停下來.接下來一步步的執行<br>開發時不要用壓縮.上線在用.但通常上線才發現bug!<br>才會需要用 Source maps</p>]]></content>
      
      
      
        <tags>
            
            <tag> source maps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 建立部落格(4) - NexT 美化</title>
      <link href="/blogger/2020/07/01/hexo-change-theme-2/"/>
      <url>/blogger/2020/07/01/hexo-change-theme-2/</url>
      
        <content type="html"><![CDATA[<h3 id="文章日期自己設定"><a href="#文章日期自己設定" class="headerlink" title="文章日期自己設定"></a>文章日期自己設定</h3><p>原本日期是顯示檔案生成的時間，可以改成自己寫好的日期。</p><ol><li>文章的檔名前面加上日期<br>ex: 2020-01-01-oneBlog.md<a id="more"></a></li><li>在 _config.yml 檔案的 #Writing 下面的 # new_post_name: :title.md 改成<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new_post_name: :year-:month-:day-:title.md</span><br></pre></td></tr></table></figure></li></ol><h3 id="自定義-css"><a href="#自定義-css" class="headerlink" title="自定義 css"></a>自定義 css</h3><ol><li>在 themes/next/source/css 中建立 _mycss.styl 檔案放自己想要新增的。</li><li>引入檔案，在 main.styl 中的最後加上下面程式碼。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;_mycss.styl&quot;;</span><br></pre></td></tr></table></figure></li></ol><h3 id="大頭照設定"><a href="#大頭照設定" class="headerlink" title="大頭照設定"></a>大頭照設定</h3><p>找到這個檔案 themes/next/source/images/avatar.gif<br>把自己的大頭蓋過去.可以改副檔名</p><p>到主題下的 _config.yml 改路徑</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">avatar:</span><br><span class="line">  url: &#x2F;images&#x2F;avatar.jpg</span><br></pre></td></tr></table></figure><h3 id="推薦插件"><a href="#推薦插件" class="headerlink" title="推薦插件"></a>推薦插件</h3><h4 id="搜尋-search"><a href="#搜尋-search" class="headerlink" title="搜尋 search"></a>搜尋 search</h4><ol><li><p>直接在終端機打下面的指令安裝</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure></li><li><p>在主題下的 _config.yml 中.下面 enable: false 改 true</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">    enable: true</span><br></pre></td></tr></table></figure></li></ol><h4 id="留言板-disqus"><a href="#留言板-disqus" class="headerlink" title="留言板 disqus"></a>留言板 disqus</h4><p>照下面這安裝就可以呈現.只是不能在首頁看有沒有效果<br><a href="https://www.jianshu.com/p/d68de067ea74" target="_blank" rel="noopener">Hexo添加Disqus评论</a></p><h4 id="sitemap"><a href="#sitemap" class="headerlink" title="sitemap"></a>sitemap</h4><p><a href="https://github.com/hexojs/hexo-generator-sitemap" target="_blank" rel="noopener">hexo-generator-sitemap</a></p><h3 id="推薦的網站"><a href="#推薦的網站" class="headerlink" title="推薦的網站"></a>推薦的網站</h3><p><a href="https://guanqr.com/tech/website/hexo-theme-next-customization/" target="_blank" rel="noopener">Hexo-NexT 主题个性优化</a></p><h3 id="修改的主題上傳到-github"><a href="#修改的主題上傳到-github" class="headerlink" title="修改的主題上傳到 github"></a>修改的主題上傳到 github</h3><p>這邊卡了一下，沒看過 github 上 themes 裡面資料夾會指到另一個地方<br>過程中感覺快把 git 弄壞了.後來有個感想是不要照網路上的亂弄<br>要懂自己在打什麼 XD ~ 之前都是先試在來理解</p><p><a href="https://www.zhihu.com/question/63962146" target="_blank" rel="noopener">Hexo Next 主题上传到Github中去以后无法点击查看文件？pull下来也是空白的？</a><br><a href="https://gitbook.tw/chapters/using-git/rename-and-delete-file.html" target="_blank" rel="noopener">【狀況題】如何在 Git 裡刪除檔案或變更檔名？</a></p><p>看很多文章後發現都有 git rm –cached 相關的指令</p><p>我的作法是</p><ol><li>把 next 裡面的 git 資料夾刪除</li><li>下指令把遠端的指向拿掉<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached themes&#x2F;next</span><br></pre></td></tr></table></figure></li><li>重新提交<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m&quot;delete&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>(完成)</li></ol><p>如果過程中很卡一直在循環<br>可以還原一下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git git reset --hard HEAD</span><br><span class="line">git status &#x2F;&#x2F; 查看一下目前狀況</span><br></pre></td></tr></table></figure><h3 id="心得"><a href="#心得" class="headerlink" title="心得"></a>心得</h3><p>整個弄下來花好幾天了，開始打算寫部落格或想換平台 Hexo 從來都不是首選，<br>因緣際會下對 git、markdown 更了解後，再加上想彈性一點的平台就想說來挑戰試試看，<br>沒想到還弄得起來!!<br>過程中發現自己看文件的掌握比以前好很多，問題搜尋關鍵字嚇得更準確不會查半天查不到，<br>此外在改樣式的過程中觀察到模板是怎麼設計程式和結構，讓我覺得很佩服!<br>蠻開心在過程中學到很多，也發現問題一定要解決不然做不同的專案都會卡一樣的東西。</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 建立部落格(3) - 更換主題</title>
      <link href="/blogger/2020/06/27/hexo-change-theme/"/>
      <url>/blogger/2020/06/27/hexo-change-theme/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p><a href="https://hexo.io/themes/" target="_blank" rel="noopener">Hexo Themes</a> 裡面有很多的版型可以選擇，<br>一開始的預設主題是 landscape，<br>查詢過程中發現目前最熱門、支援最多的是 <a href="https://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">NexT</a> 就來用用看!</p><a id="more"></a><h3 id="安裝主題"><a href="#安裝主題" class="headerlink" title="安裝主題"></a>安裝主題</h3><p>根據 <a href="https://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">NexT</a> 官方文件來安裝。</p><ol><li><p>下載 NexT Theme</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;iissnan&#x2F;hexo-theme-next themes&#x2F;next</span><br></pre></td></tr></table></figure><p>下載完.查看themes裡面的資料夾是不是多個next的資料夾。</p></li><li><p>在 _config.yml 檔案裡把 theme: landscape 改換主題</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure></li><li><p>本地端預覽</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>注意可能有暫存.如果沒更換可以用無痕開啟網頁。</p></li></ol><h3 id="版型調整"><a href="#版型調整" class="headerlink" title="版型調整"></a>版型調整</h3><p>在 themes/next/layout 資料夾中的檔案.不同版型的檔案類型也不同.花一些時間了解他的邏輯 + 樣板語言就可以改 (其他詳細記錄在下一篇)</p><h3 id="上傳到遠端"><a href="#上傳到遠端" class="headerlink" title="上傳到遠端"></a>上傳到遠端</h3><p>自動生成靜態網暫並上傳遠端</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>注意上傳的網址路徑.錯誤會跑版.如果跑掉只要在網頁的 _config.yml 設定 root 。</p><p>我是用 github<br>如果靜態網頁是上傳到 master，只要設定成</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root: &#x2F;</span><br></pre></td></tr></table></figure><p>如果 master 是放資料，靜態網頁是在 gh-pages 上的話</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root: &#x2F;專案名稱&#x2F;</span><br></pre></td></tr></table></figure><p>記得這邊有時候還是要更新 master 的程式資料</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 建立部落格(2) - 創立部落格</title>
      <link href="/blogger/2020/06/26/hexo-created/"/>
      <url>/blogger/2020/06/26/hexo-created/</url>
      
        <content type="html"><![CDATA[<h3 id="為何選-Hexo-建部落格"><a href="#為何選-Hexo-建部落格" class="headerlink" title="為何選 Hexo 建部落格?"></a>為何選 Hexo 建部落格?</h3><p>一開始是使用 google blogger 想要專注寫文章筆記，後來會 markdown 發現這很快能呈現有編排的樣子，<br>加上想把原本的文章重新整理，因此挑選時想找調整彈性比較大的部落格就挑到這個。</p><a id="more"></a><p>優點:使用 markdown 用一些元素就可以把版面呈現很好、中文文件多(主要開發者是華人)<br>缺點:圖片連結需要另外用(可以搭配 Firebase)</p><hr><h3 id="安裝並建立專案"><a href="#安裝並建立專案" class="headerlink" title="安裝並建立專案"></a>安裝並建立專案</h3><ul><li>安裝 git <!--kk 補連結--></li><li>安裝 node.js <!--kk 補連結--></li><li>安裝 hexo (步驟在下面) </li></ul><h5 id="1-安裝hexo"><a href="#1-安裝hexo" class="headerlink" title="1. 安裝hexo"></a>1. 安裝hexo</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><h5 id="2-建立專案資料夾"><a href="#2-建立專案資料夾" class="headerlink" title="2. 建立專案資料夾"></a>2. 建立專案資料夾</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init &lt;folder&gt;</span><br><span class="line">cd &lt;folder&gt;</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>也可以建個資料夾後.在裡面打</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>資料夾中會產生下面這些文件</p><!--kk 放圖0.安裝hexo後ㄦ--><pre><code>node_modulesscaffolds 範例(可忽略)source 放文章(放在_post資料夾裡面)themes 安裝主題時用.gitignore 上傳 git 時忽略上傳的檔案package.json 套件管理</code></pre><h5 id="3-本地端瀏覽"><a href="#3-本地端瀏覽" class="headerlink" title="3. 本地端瀏覽"></a>3. 本地端瀏覽</h5><p>在終端機下指令-本地端預覽(s是serve的縮寫)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>會出現 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a><br>打開後會出現下面這預設的部落格</p><!--(放圖1.預設的部落格)--><hr><h3 id="部落格部屬到遠端-github-上"><a href="#部落格部屬到遠端-github-上" class="headerlink" title="部落格部屬到遠端 github 上"></a>部落格部屬到遠端 github 上</h3><h5 id="1-上傳整個專案"><a href="#1-上傳整個專案" class="headerlink" title="1. 上傳整個專案"></a>1. 上傳整個專案</h5><p>a. 建立 git 專案 <!--kk 補連結--><br>b. 在 .gitignore 資料夾中寫</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node_modules&#x2F;</span><br><span class="line">themes&#x2F;</span><br></pre></td></tr></table></figure><p>忽略上面2個資料夾.因為 node_modules 檔案太大，themes等等要改主題所以先不要上傳<br>在專案的終端機打下面 git 指令<br>不清楚可以查看 git 相關資料 <!--kk 補連結--></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m&quot;create project&quot;</span><br><span class="line">git remote add origin &lt;url&gt;</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><h5 id="2-上傳-hexo-的部落格"><a href="#2-上傳-hexo-的部落格" class="headerlink" title="2. 上傳 hexo 的部落格"></a>2. 上傳 hexo 的部落格</h5><p>a. 設定路徑<br>修改 _config.yml (網站配置文件)裡面的 deploy<br>把檔案推到 gh-pages 這分支上</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  branch: gh-pages</span><br><span class="line">  repo: &lt;儲存庫的路徑&gt;</span><br></pre></td></tr></table></figure><p>b. 打指令上傳遠端</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 上傳遠端.部署上去 (生成靜態網頁，並上傳遠端)</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>如果上面指令無法的話.第一次上傳需要下面這個</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 生成靜態網頁.檔案會出現 public 資料夾</span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 第一次需要這樣.之後可以省略這步驟</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>c. 上傳後如果網頁整個跑版(需要檢查路徑)</p><ol><li><p>在 _config.yml 中<br>改相對路徑 true</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">relative_link:true</span><br></pre></td></tr></table></figure></li><li><p>如果是上傳到 github 上，因為網站是存在子目錄中，要設定 _config.yml 的 root (網站根目錄)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">url: https:&#x2F;&#x2F;teishashu.github.io&#x2F;</span><br><span class="line">root: &#x2F;blogger&#x2F;</span><br></pre></td></tr></table></figure></li><li><p>重新上傳</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p> 需要等一下再刷新網頁</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 建立部落格(1) - 常用指令</title>
      <link href="/blogger/2020/06/25/hexo-code/"/>
      <url>/blogger/2020/06/25/hexo-code/</url>
      
        <content type="html"><![CDATA[<h3 id="生成靜態網頁"><a href="#生成靜態網頁" class="headerlink" title="生成靜態網頁"></a>生成靜態網頁</h3><p>(全寫hexo generater)<br>會產生public檔案</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="本地端預覽"><a href="#本地端預覽" class="headerlink" title="本地端預覽"></a>本地端預覽</h3><p>(全寫hexo serve)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><h3 id="上傳遠端"><a href="#上傳遠端" class="headerlink" title="上傳遠端"></a>上傳遠端</h3><p>deploy 文件生成後立即部屬上去遠端網站<br>(可以省略 hexo g)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><h3 id="watch-監視文件變動-w"><a href="#watch-監視文件變動-w" class="headerlink" title="watch 監視文件變動 (-w)"></a>watch 監視文件變動 (-w)</h3><p>網站存檔時自動升成新的靜態網頁<br>(適合測試網站時使用)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 例子</span><br><span class="line">hexo g -w</span><br></pre></td></tr></table></figure><h3 id="clean-清除"><a href="#clean-清除" class="headerlink" title="clean 清除"></a>clean 清除</h3><p>清除暫存(db.json)和已生成的靜態文件(public)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure><p>更換主題時生成有問題可以使用</p><h3 id="錯誤訊息紀錄"><a href="#錯誤訊息紀錄" class="headerlink" title="錯誤訊息紀錄"></a>錯誤訊息紀錄</h3><p>會生成一個 debug.log 檔案裡面</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo --debug</span><br></pre></td></tr></table></figure><h3 id="新增文章"><a href="#新增文章" class="headerlink" title="新增文章"></a>新增文章</h3><h4 id="草稿文章"><a href="#草稿文章" class="headerlink" title="草稿文章"></a>草稿文章</h4><p>雖然一開始比較想要用手動，但是指令比較快還是需要熟悉，而且會自動把每頁需要的…建立好。</p><p>(手動)<br>在 source 的資料夾建立 _drafts 資料夾，新增一份.md。</p><p>(指令)<br>新增草稿文章</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new draft &lt;文章標題&gt;</span><br></pre></td></tr></table></figure><p>發布草稿文章</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish draft &lt;文章標題&gt;</span><br></pre></td></tr></table></figure><h4 id="其他頁面"><a href="#其他頁面" class="headerlink" title="其他頁面"></a>其他頁面</h4><p>除了首頁，像關於我們等其他頁面。</p><p>(手動)<br>在 source 資料夾下面新增想要的資料夾名稱，裡面放index.md</p><p>(指令)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &lt;頁面名稱&gt;</span><br></pre></td></tr></table></figure><p>也會產生手動的效果.在改檔案裡面的內容就可以</p><p>(範例):tags 標籤、categories 分類的頁面<br>a. 新增</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure><p>b. 增加頁面 type 屬性<br>在 source/tags 資料夾中的 index.md<br>頁面增加 type 屬性，就可以自動有相關的效果。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>categories 分類頁面也是一樣的作法，<code>type: &quot;categories&quot;</code> 就可以</p><h4 id="文章折疊預覽"><a href="#文章折疊預覽" class="headerlink" title="文章折疊預覽"></a>文章折疊預覽</h4><p><a href="http://blog.smallerpig.com/set-hexo-show-more-button-on-indexpage.html" target="_blank" rel="noopener">參考文章: 让hexo的首页只显示文章的部分内容而不是全部 | 朱启的个人博客</a><br>我是用裡面的第二項.在頁面中增加<code>&lt;!--more--&gt;</code><br>沒想到只是這樣註記就有這效果!!</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
